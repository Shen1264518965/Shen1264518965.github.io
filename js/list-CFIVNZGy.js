import{_ as z,i as o,q as f,j as B,c as d,d as l,F as h,k as D,f as s,v as k,n as $,s as y,a as j,u as E,C as P,o as r,t as R}from"./index-Cub4thmZ.js";import{g as S}from"./common-HaayC2ZU.js";/* empty css                 */import{l as q}from"./lodash-UX7hK06f.js";const w={class:"product-list"},F=["onClick"],N=["src"],T=["onClick"],U={key:0,class:"product-search"},V={class:"product-pagination"},I={__name:"list",setup(L){const x=j(),c=E(),u=o(null),t=o([]),g=o([]),i=o(1),p=o(9),v=o(0);f(()=>c.params.type,e=>{_(e)}),f(()=>c.query.search,e=>{e!==void 0&&(t.value=g.value.filter(n=>n.name.indexOf(e)>-1))}),B(async()=>{u.value=await fetch("/data/product.json").then(e=>e.json()),_(c.params.type)});const _=e=>{if(t.value=[],e==="all")for(let n in u.value)t.value=t.value.concat(u.value[n]);else t.value=u.value[e];g.value=q.cloneDeep(t.value),v.value=t.value.length},m=e=>{x.push(`/product/detail/${c.params.type}/${e.id}`)};return(e,n)=>{const C=P;return r(),d(h,null,[l("ul",w,[(r(!0),d(h,null,D(s(S)(s(i),s(p),s(t)),a=>(r(),d("li",{key:a.id},[l("div",{class:"product-right-img",onClick:b=>m(a)},[l("img",{src:a.url,alt:""},null,8,N)],8,F),l("div",{class:"font-center product-right-name",onClick:b=>m(a)},R(a.name),9,T)]))),128))]),s(t).length?k("",!0):(r(),d("div",U," 暂无产品信息 ")),l("div",V,[s(t).length?(r(),$(C,{key:0,background:"","prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":s(i),"onUpdate:currentPage":n[0]||(n[0]=a=>y(i)?i.value=a:null),"page-size":s(p),"onUpdate:pageSize":n[1]||(n[1]=a=>y(p)?p.value=a:null),total:s(v)},null,8,["current-page","page-size","total"])):k("",!0)])],64)}}},H=z(I,[["__scopeId","data-v-ad5b012b"]]);export{H as default};
